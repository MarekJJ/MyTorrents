angular.module("sfcQuantitiesList",["ui.router","datatables","datatables.bootstrap","dsrDataTables"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state({name:"list",url:"/",templateUrl:"/Areas/Corrections/StaticViews/Quantities/list.html",controller:"ListQuantityController as $ctrl"}),t.state({name:"add",url:"/add",templateUrl:"/Areas/Corrections/StaticViews/Quantities/addOrUpdate.html",controller:"___toCHANGE___AddOrUpdateAssetFieldDefinitionController as $ctrl",permission:"Corrections/Quantities/Add"}),t.state({name:"edit",url:"/correction/{id}",templateUrl:"/Areas/Corrections/StaticViews/Quantities/correction.html",controller:"CorrectionQuantityController as $ctrl",permission:"Corrections/Quantities/Edit",params:{id:""}}),t.state({name:"preview",url:"/preview/{id}",templateUrl:"/Areas/Corrections/StaticViews/Quantities/preview.html",controller:"PreviewQuantityController as $ctrl",params:{id:""}}),e.otherwise("/")}]).run(["$rootScope","$translate",function(t,e){e("corrections.quantityList").then(function(e){t.title=e})}]),angular.module("sfcQuantitiesList").component("partAttributesPanel",{templateUrl:"/Areas/Corrections/StaticViews/Quantities/templates/partAttributesPanel.html",bindings:{attributes:"="},controller:["$scope","$timeout",function(t,e){}]}),angular.module("sfcQuantitiesList").controller("CorrectionQuantityController",["$scope","$state","$stateParams","$translate","$http","$q","toastrWrapper",function(t,e,i,o,r,n,a){function s(){var t=i.id||"";r.post("/Corrections/Quantities/GetEdit/"+t).then(function(t){var e=t.data.correctionQuantity;angular.extend(l.model,e),l.hasQtyRejected=l.model.qtyRejected>0,l.attributes=t.data.attributes,l.rejectReasons=t.data.rejectReasons,l.serialControl="S"===l.model.partType})}var l=this;return l.model={},l.hasQtyRejected=!1,l.serialControl=null,l.save=function(){var t=angular.copy(l.model);return r.post("/Corrections/Quantities/SaveCorrection",t).then(function(){a.showTranslatedSuccess("workorder.savedSuccessfully"),l.goToListView()})},l.goToListView=function(){e.go("list")},l.qtyRejectedChange=function(t){l.hasQtyRejected=l.model.qtyRejected>0},l.isEditMode&&!i.id?void l.goToListView():void s()}]),angular.module("sfcQuantitiesList").controller("ListQuantityController",["DTColumnBuilder","$translate","$filter",function(t,e,i){var o=this;o.options={tableDataUrl:"/Corrections/Quantities/GetList",columns:[t.newColumn("partName").withTitle(e("part.name")),t.newColumn("partType").withTitle(e("part.type")),t.newColumn("workOrderID").withTitle(e("workorder.orderId")),t.newColumn("logDate").withTitle(e("common.date")).renderWith(function(t,e,o){return i("formattedDateTime")(t)}),t.newColumn("userName").withTitle(e("common.worker")),t.newColumn("operation").withTitle(e("technology.operation")),t.newColumn("qtyCompleted").withTitle(e("common.quantityCompleted")),t.newColumn("qtyRejected").withTitle(e("common.quantityRejected")),t.newColumn("keyAttribute").withTitle(e("partAttributeSet.keyAttribute"))],permissions:{view:"Corrections/Quantities/Access",edit:"Corrections/Quantities/Edit",delete:"",add:"Corrections/Quantities/Add"},editButtonLabel:"common.correct"}}]),angular.module("sfcQuantitiesList").controller("PreviewQuantityController",["$state","$stateParams","$http",function(t,e,i){var o=this;return o.model={},o.goToListView=function(){t.go("list")},o.goToEditView=function(){t.go("edit",{id:o.model.id})},e.id?void i.post("/Corrections/Quantities/Get/"+e.id).then(function(t){angular.extend(o.model,t.data),o.subtitle=o.model.name,o.elements=t.data.attributes}):void o.goToListView()}]);
//# sourceMappingURL=quantityList-Js.min.js.map
