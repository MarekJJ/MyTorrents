angular.module("sfcWorkCentersList",["ui.router","datatables","datatables.bootstrap","dsrDataTables"]).config(["DefaultModuleStateProvider",function(e){e.initialize({entityName:"WorkCenter",templatesPath:"/Areas/WorkCenters/StaticViews/WorkCenters/",permissionRoot:"Machines/WorkCenters/"})}]).run(["$rootScope","$translate",function(e,t){t("workcenter.workCenterList").then(function(t){e.title=t})}]),angular.module("sfcWorkCentersList").controller("AddOrUpdateWorkCenterController",["$scope","$state","$stateParams","$translate","$http","$q","toastrWrapper","confirmationService",function(e,t,n,o,r,i,a,s){function d(){var e=n.id||"";r.post("/WorkCenters/WorkCenters/GetEdit/"+e).then(function(e){var t=e.data.workCenter;angular.extend(l.model,t),l.departments=e.data.departments,l.sites=e.data.sites,t||(l.model.active=!0)})}var l=this;return l.model={},l.isEditMode="edit"===t.current.name,l.isExternal=!1,l.save=function(){var e=angular.copy(l.model);return r.post("/WorkCenters/WorkCenters/AddOrUpdate",e).then(function(){a.showTranslatedSuccess("workcenter.savedSuccessfully"),l.goToListView()})},l.goToListView=function(){t.go("list")},l.isEditMode&&!n.id?void l.goToListView():(l.onWorkCenterChange=function(){e.$broadcast("event:revalidate-department-changed")},l.onSiteChange=function(){if(l.model.departmentId=null,l.model.siteId)return r.post("/WorkCenters/WorkCenters/GetDepartments",{siteId:l.model.siteId}).then(function(e){l.departments=e.data})},void d())}]),angular.module("sfcWorkCentersList").controller("WorkCenterListController",["DTColumnBuilder","$translate","$filter",function(e,t,n){var o=this;o.options={tableDataUrl:"/WorkCenters/WorkCenters/GetList",columns:[e.newColumn("code").withTitle(t("common.code")),e.newColumn("name").withTitle(t("common.name")),e.newColumn("department").withTitle(t("machine.department")),e.newColumn("site").withTitle(t("common.site")),e.newColumn("active").withTitle(t("common.active")).notSortable().withClass("text-center").renderWith(function(e,t,n){return'<readonly-checkbox checked="'+n.active+'" />'})],permissions:{view:"Machines/WorkCenters/View",edit:"Machines/WorkCenters/Edit",delete:"",add:"Machines/WorkCenters/Add"}}}]),angular.module("sfcWorkCentersList").controller("PreviewWorkCenterController",["$state","$stateParams","$http",function(e,t,n){var o=this;return o.model={},o.goToListView=function(){e.go("list")},o.goToEditView=function(){e.go("edit",{id:o.model.id})},t.id?void n.post("/WorkCenters/WorkCenters/Get/"+t.id).then(function(e){angular.extend(o.model,e.data),o.subtitle=o.model.name}):void o.goToListView()}]);
//# sourceMappingURL=workCentersList-Js.min.js.map
