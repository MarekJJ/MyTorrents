angular.module("sfcNumberSeriesList",["ui.router","datatables","datatables.bootstrap","dsrDataTables"]).config(["DefaultModuleStateProvider",function(e){e.initialize({entityName:"NumberSeries",templatesPath:"/Areas/Administration/Scripts/NumberSeriesList/templates/",permissionRoot:"Administration/NumberSeries/",previewPermission:"Access"})}]),angular.module("sfcNumberSeriesList").factory("numberSeriesService",["genericRemoveService",function(e){return{remove:function(r){return e("/Administration/NumberSeriesList/RemoveNumberSeries","numberSeries.removeConfirmationMessage").remove(r)}}}]),angular.module("sfcNumberSeriesList").directive("greaterThanLastUsedValueValidator",["$q","$http","$parse",function(e,r,i){return{restrict:"A",require:"ngModel",link:function(t,s,n,o){o.$asyncValidators.isGreaterThanLastUsedValue=function(s){if(_.isNaN(s))return o.$viewValue="",o.$render(),o.$setValidity("required",!1),e.resolve();if(!n.numberSeriesId||!s&&0!==s)return e.resolve();var a={numberSeriesId:n.numberSeriesId,value:s};return r.post("/Administration/NumberSeriesList/IsValueGreaterThanLastUsedValue",a).then(function(r){return r.data.isValid===!0?e.resolve():(i(n.lastUsedValue).assign(t,r.data.lastUsedValue),e.reject())})}}}}]),angular.module("sfcNumberSeriesList").directive("uniqueNumberSeriesNameValidator",["$q","$http","$state",function(e,r,i){return{restrict:"A",require:"ngModel",link:function(t,s,n,o){o.$asyncValidators.uniqueNumberSeriesNameValidator=function(t){var s="edit"===i.current.name;if(s&&!n.numberSeriesId)return e.resolve();var o={numberSeriesId:n.numberSeriesId,numberSeriesName:t};return r.post("/Administration/NumberSeriesList/IsNumberSeriesNameUnique",o).then(function(r){return r.data===!0?e.resolve():e.reject()})}}}}]),angular.module("sfcNumberSeriesList").controller("NumberSeriesListController",["DTColumnBuilder","$translate","numberSeriesService",function(e,r,i){var t=this;t.options={tableDataUrl:"/Administration/NumberSeriesList/GetNumberSeriesList",columns:[e.newColumn("name").withTitle(r("common.name")),e.newColumn("format").withTitle(r("numberSeries.format"))],permissions:{view:"Administration/NumberSeries/View",edit:"Administration/NumberSeries/Edit",delete:"Administration/NumberSeries/Delete",add:"Administration/NumberSeries/Add"},removeItems:function(e){return i.remove(e)}}}]),angular.module("sfcNumberSeriesList").controller("AddOrUpdateNumberSeriesController",["$state","$stateParams","$translate","$http","toastrWrapper","numberSeriesService",function(e,r,i,t,s,n){function o(){t.post("/Administration/NumberSeriesList/GetNumberSeriesEditViewModel/"+r.id).then(function(e){angular.extend(a.model,e.data),a.subtitle=e.data.name})}var a=this;if(a.isEditMode="edit"===e.current.name,a.model={},a.save=function(){t.post("/Administration/NumberSeriesList/AddOrUpdateNumberSeries",a.model).then(function(){s.showTranslatedSuccess("numberSeries.savedSuccessfully"),a.goToListView()})},a.goToListView=function(){e.go("list")},a.remove=function(){n.remove(a.model.id).then(function(){a.goToListView()})},a.isEditMode){if(!r.id)return void a.goToListView();o()}else i("numberSeries.addNewNumberSeries").then(function(e){a.subtitle=e})}]),angular.module("sfcNumberSeriesList").controller("PreviewNumberSeriesController",["$state","$stateParams","$http","numberSeriesService",function(e,r,i,t){var s=this;return s.model={},s.goToListView=function(){e.go("list")},s.goToEditView=function(){e.go("edit",{id:s.model.id})},s.remove=function(){t.remove(s.model.id).then(function(){s.goToListView()})},r.id?void i.post("/Administration/NumberSeriesList/GetNumberSeriesPreviewViewModel/"+r.id).then(function(e){angular.extend(s.model,e.data),s.subtitle=s.model.name}):void s.goToListView()}]);
//# sourceMappingURL=numberSeriesList-Js.min.js.map
