angular.module("sfcPowerBiDefinition",["ui.router","datatables","datatables.bootstrap","dsrDataTables"]).config(["DefaultModuleStateProvider",function(e){e.initialize({entityName:"PowerBiDefinition",templatesPath:"/Areas/Administration/Scripts/PowerBiDefinition/templates/",permissionRoot:"Administration/PowerBiDefinition/",previewPermission:"Access"})}]),angular.module("sfcPowerBiDefinition").controller("AddOrUpdatePowerBiDefinitionController",["$state","$stateParams","$http","$translate","genericRemoveService","toastrWrapper","$rootScope",function(e,i,o,n,t,r,a){function m(){var e=i.id||"";o.post("/Administration/PowerBiDefinition/GetEdit/"+e).then(function(e){var i=e.data.powerBiDefinition;s.categories=e.data.categories,l=e.data.components;var o=[],n=!1;for(var t in s.categories)for(var r in l)n=s.categories[t].value==r,n&&o.push(s.categories[t]);s.categories=o,i&&(s.subtitle=i.name,angular.extend(s.model,i),s.reloadComponents())})}var s=this;s.removeService=t("/Administration/PowerBiDefinition/Remove","powerBiDefinition.removeConfirmationMessage"),s.isEditMode="edit"===e.current.name,s.model={};var l=null;if(s.isEditMode){if(!i.id)return void e.go("list")}else n("powerBiDefinition.addNewPowerBiDefinition").then(function(e){s.subtitle=e});m(),s.save=function(){o.post("/Administration/PowerBiDefinition/AddOrUpdate",s.model).then(function(){r.showTranslatedSuccess("powerBiDefinition.savedSuccessfully"),e.go("list")})},s.goToListView=function(){e.go("list")},s.remove=function(){s.removeService.remove(s.model.id).then(function(){s.goToListView()})},s.reloadComponents=function(){void 0==s.model.categoryId?(s.model.name=null,s.model.component=null,s.model.componentName=null,s.components=null):s.components=l[s.model.categoryId]},s.componentChanged=function(){if(void 0==s.model.component)s.model.name=null,s.model.componentName=null;else{var e=_.find(s.components,function(e){return e.value==s.model.component});s.model.name=e.text,s.model.componentName=e.text}}}]),angular.module("sfcPowerBiDefinition").controller("PowerBiDefinitionListController",["DTColumnBuilder","$translate","powerBiDefinitionRemoveService",function(e,i,o){var n=this;n.options={tableDataUrl:"/Administration/PowerBiDefinition/GetList",columns:[e.newColumn("name").withTitle(i("common.name")),e.newColumn("category").withTitle(i("common.category"))],permissions:{view:"Administration/PowerBiDefinition/Access",edit:"Administration/PowerBiDefinition/Edit",delete:"Administration/PowerBiDefinition/Delete",add:"Administration/PowerBiDefinition/Add"},removeItems:function(e){return o.remove(e)}}}]),angular.module("sfcPowerBiDefinition").controller("PreviewPowerBiDefinitionController",["$state","$stateParams","$http","powerBiDefinitionRemoveService",function(e,i,o,n){var t=this;return t.model={},t.goToListView=function(){e.go("list")},t.goToEditView=function(){e.go("edit",{id:t.model.id})},t.remove=function(){n.remove(t.model.id).then(function(){t.goToListView()})},i.id?void o.post("/Administration/PowerBiDefinition/GetPreview/"+i.id).then(function(e){angular.extend(t.model,e.data),t.subtitle=t.model.name}):void t.goToListView()}]),angular.module("sfcPowerBiDefinition").factory("powerBiDefinitionRemoveService",["genericRemoveService","$rootScope",function(e,i){return{remove:function(i){return e("/Administration/PowerBiDefinition/Remove","powerBiDefinition.removeConfirmationMessage").remove(i).then(function(e){})}}}]);
//# sourceMappingURL=powerBiDefinition-Js.min.js.map
