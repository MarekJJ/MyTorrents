angular.module("sfcFunctions",["ui.router","datatables","datatables.bootstrap","dsrDataTables"]).config(["DefaultModuleStateProvider",function(t){t.initialize({entityName:"Function",templatesPath:"/Areas/Administration/Scripts/Functions/templates/",permissionRoot:"Administration/Functions/"})}]),angular.module("sfcFunctions").factory("functionRemoveService",["genericRemoveService","$rootScope",function(t,n){return{remove:function(n){return t("/Administration/Functions/Remove","functions.removeConfirmationMessage").remove(n)}}}]),angular.module("sfcFunctions").controller("FunctionListController",["DTColumnBuilder","$translate","functionRemoveService",function(t,n,o){var i=this;i.options={tableDataUrl:"/Administration/Functions/GetList",columns:[t.newColumn("code").withTitle(n("common.code")),t.newColumn("functionType").withTitle(n("common.type"))],permissions:{view:"Administration/Functions/View",edit:"Administration/Functions/Edit",delete:"Administration/Functions/Delete",add:"Administration/Functions/Add"},removeItems:function(t){return o.remove(t)}}}]),angular.module("sfcFunctions").controller("AddOrUpdateFunctionController",["$state","$stateParams","$http","toastrWrapper","functionRemoveService",function(t,n,o,i,e){function s(){o.post("/Administration/Functions/GetEdit/"+(n.id||"")).then(function(t){t.data.function&&(angular.extend(r.model,t.data.function),r.subtitle=t.data.function.code),r.functionTypes=t.data.functionTypes})}var r=this;return r.model={},r.isEditMode="edit"===t.current.name,r.functionTypes=[],r.save=function(){var t=angular.copy(r.model);return o.post("/Administration/Functions/AddOrUpdate",t).then(function(){i.showTranslatedSuccess("functions.savedSuccessfully"),r.goToListView()})},r.goToListView=function(){t.go("list")},r.remove=function(){e.remove(r.model.id).then(function(){r.goToListView()})},r.isEditMode&&!n.id?void r.goToListView():void s()}]),angular.module("sfcFunctions").controller("PreviewFunctionController",["$state","$stateParams","$http","functionRemoveService",function(t,n,o,i){var e=this;return e.model={},e.goToListView=function(){t.go("list")},e.goToEditView=function(){t.go("edit",{id:e.model.id})},e.remove=function(){i.remove(e.model.id).then(function(){e.goToListView()})},n.id?void o.post("/Administration/Functions/GetPreview/"+n.id).then(function(t){angular.extend(e.model,t.data),e.subtitle=e.model.code}):void e.goToListView()}]);
//# sourceMappingURL=functions-Js.min.js.map
