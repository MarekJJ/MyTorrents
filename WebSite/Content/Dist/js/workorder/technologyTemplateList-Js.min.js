angular.module("sfcTechnologyTemplatesList",["ui.router","datatables","datatables.bootstrap","dsrDataTables"]).config(["DefaultModuleStateProvider",function(e){e.initialize({entityName:"TechnologyTemplate",templatesPath:"/Areas/WorkOrders/StaticViews/TechnologyTemplates/",permissionRoot:"WorkOrders/TechnologyTemplates/"})}]).run(["$rootScope","$translate",function(e,o){o("technologyTemplate.technologyTemplatesList").then(function(o){e.title=o})}]),angular.module("sfcTechnologyTemplatesList").controller("AddOrUpdateTechnologyTemplateController",["$state","$stateParams","$translate","$http","$q","toastrWrapper","technologyTemplatesService",function(e,o,t,n,l,a,r){function i(){var e=o.id||"";n.post("/WorkOrders/TechnologyTemplates/GetEdit/"+e).then(function(e){var o=e.data.technologyTemplate;angular.extend(s.model,o),s.machines=e.data.machines,o||(s.model.technologyElementTemplateList=[])})}var s=this;s.technologyElements=[];var c=1;if(s.model={},s.isEditMode="edit"===e.current.name,s.save=function(){var e=angular.copy(s.model);return n.post("/WorkOrders/TechnologyTemplates/AddOrUpdate",e).then(function(){a.showTranslatedSuccess("technology.savedSuccessfully"),s.goToListView()})},s.add=function(){var e={rowId:c++};s.model.technologyElementTemplateList.push(e)},s.goToListView=function(){e.go("list")},s.remove=function(){r.remove(s.model.id).then(function(){s.goToListView()})},s.removeAt=function(e){s.model.technologyElementTemplateList[e].rowId;s.model.technologyElementTemplateList.splice(e,1)},s.checkUnique=function(e){var o=e.$error;o.uniqueOperationValidator&&o.uniqueOperationValidator.forEach(function(e,o,t){e.name!=name&&e.$validate()})},s.isEditMode){if(!o.id)return void s.goToListView()}else t("itemGroups.addNewGroup").then(function(e){s.subtitle=e});i()}]),angular.module("sfcTechnologyTemplatesList").controller("TechnologyTemplateListController",["DTColumnBuilder","$translate","technologyTemplatesService",function(e,o,t){var n=this;n.options={tableDataUrl:"/WorkOrders/TechnologyTemplates/GetList",columns:[e.newColumn("name").withTitle(o("technologyTemplate.technologyName")),e.newColumn("operationCount").withTitle(o("technology.operationCount")).notSortable()],permissions:{view:"WorkOrders/TechnologyTemplates/View",edit:"WorkOrders/TechnologyTemplates/Edit",delete:"WorkOrders/TechnologyTemplates/Delete",add:"WorkOrders/TechnologyTemplates/Add"},removeItems:function(e){return t.remove(e)}}}]),angular.module("sfcTechnologyTemplatesList").controller("PreviewTechnologyTemplateController",["$state","$stateParams","$http","technologyTemplatesService",function(e,o,t,n){var l=this;return l.model={},l.goToListView=function(){e.go("list")},l.goToEditView=function(){e.go("edit",{id:l.model.id})},l.remove=function(){n.remove(l.model.id).then(function(){l.goToListView()})},o.id?void t.post("/WorkOrders/TechnologyTemplates/Get/"+o.id).then(function(e){angular.extend(l.model,e.data),l.subtitle=l.model.name,l.elements=e.data.technologyElementTemplateList}):void l.goToListView()}]),angular.module("sfcTechnologyTemplatesList").factory("technologyTemplatesService",["genericRemoveService",function(e){return{remove:function(o){return e("/WorkOrders/TechnologyTemplates/RemoveTechnologyTemplate","technologyTemplate.removeConfirmationMessage").remove(o)}}}]);
//# sourceMappingURL=technologyTemplateList-Js.min.js.map
