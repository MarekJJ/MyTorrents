angular.module("dsrLogin",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(o,e){o.state({name:"login",url:"/",templateUrl:"/Content/DSRToolkit/Core/Scripts/Login/templates/login.template.html",controller:"LoginController as $ctrl",params:{login:""}}),o.state({name:"resetPassword",url:"/resetPassword",templateUrl:"/Content/DSRToolkit/Core/Scripts/Login/templates/resetPassword.template.html",controller:"ResetPasswordController as $ctrl",params:{login:""}}),o.state({name:"changePassword",url:"/changePassword",templateUrl:"/Content/DSRToolkit/Core/Scripts/Login/templates/changePassword.template.html",controller:"ChangePasswordController as $ctrl",params:{login:""}}),e.otherwise("/")}]),angular.module("dsrLogin").controller("LoginController",["$http","$window","$translate","$state","$stateParams","formValidationHelper","progressIndicatorService","toastrWrapper",function(o,e,t,n,r,a,l,s){function i(o){t(o).then(function(o){c.validationMessage=o})}var c=this;c.model={},c.model.login=r.login,c.validationMessage=null,c.signIn=function(){var t=l.start();o.post("/Account/Login/",c.model).then(function(o){var r=o.data.status;switch(c.validationMessage="","Success"!==r&&l.stop(t),r){case"Success":e.location.href=o.data.redirectUrl;break;case"InvalidLogin":case"InvalidPassword":i("login.invalidLoginOrPassword");break;case"InactiveUser":i("login.inactiveUser");break;case"PasswordChangeRequired":n.go("changePassword",{login:c.model.login}),s.showTranslatedInfo("login.passwordChangeRequired")}})}}]).directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(o,e,t,n){n.$validators.compareTo=function(e){return e===o.otherModelValue},o.$watch("otherModelValue",function(){n.$validate()})}}}).controller("ResetPasswordController",["$http","$state",function(o,e){var t=this;t.model={},t.resetPassword=function(){o.post("/Account/ResetPassword",t.model).then(function(){e.go("login",{login:t.model.login})})}}]).controller("ChangePasswordController",["$http","$state","$stateParams",function(o,e,t){var n=this;n.model={},n.model.login=t.login,n.changePassword=function(){o.post("/Account/ChangePassword",n.model).then(function(){e.go("login",{login:n.model.login})})}}]);
//# sourceMappingURL=dsrToolkit_login-Js.min.js.map
